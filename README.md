# 图片拼图工具

一个基于 Vue 3 + TypeScript 的专业在线图片拼图和长图拼接工具，完全模仿 [img.ops-coffee.cn](https://img.ops-coffee.cn/) 的功能。

## 🚀 功能特色

### 📋 布局拼图模式
- **丰富的布局模板**：支持 2-16 张图片的多种网格布局
- **智能布局推荐**：根据图片数量自动推荐最优布局
- **实时预览**：所见即所得的拼图效果
- **交互式调整**：拖拽图片交换位置，Alt + 拖拽平移图片
- **精准控制**：键盘方向键微调，鼠标滚轮缩放

### 🔗 长图拼接模式
- **双向拼接**：支持横向和纵向图片拼接
- **拖拽排序**：直观的拖拽操作调整图片顺序
- **智能适配**：自动计算最佳拼接尺寸
- **无限长度**：理论上支持任意数量的图片拼接

### 🎨 创意标注工具
- **文字标注**：自定义字体、大小、颜色
- **箭头指示**：可调节粗细、颜色的矢量箭头
- **方框标记**：支持填充色和透明度调节
- **圆圈标记**：椭圆形标记，支持自定义样式
- **跨模式通用**：所有工具在布局和拼接模式下都可使用

### 🎯 高级功能
- **本地处理**：所有操作在浏览器本地完成，保护隐私
- **高清导出**：支持 PNG/JPG 格式，可选择导出质量
- **自定义画布**：可调节画布尺寸、边框、间距、圆角
- **背景设置**：支持纯色背景或自定义背景图片
- **实时预览**：导出前可预览最终效果

## 🛠️ 技术栈

- **前端框架**：Vue 3 + TypeScript
- **构建工具**：Vite
- **状态管理**：Pinia
- **画布渲染**：HTML5 Canvas
- **工具库**：VueUse, Konva.js, HTML2Canvas
- **样式**：原生 CSS + 响应式设计

## 📦 安装和使用

### 环境要求
- Node.js 16+
- npm 7+ 或 yarn 1.22+

### 安装依赖
```bash
npm install
```

### 开发环境
```bash
npm run dev
```

### 构建项目
```bash
npm run build
```

### 预览构建结果
```bash
npm run preview
```

## 🎮 使用指南

### 基本操作
1. **上传图片**：点击上传区域或拖拽图片到页面
2. **选择模式**：在左侧选择"布局拼图"或"长图拼接"
3. **调整设置**：根据需要调整画布、样式等设置
4. **添加标注**：使用创意工具添加文字、箭头等标注
5. **导出图片**：选择格式和质量，下载最终作品

### 快捷键
- **方向键**：微调选中图片位置
- **Alt + 拖拽**：平移图片而非交换位置
- **鼠标滚轮**：在画布上缩放视图
- **双击**：快速编辑文字标注

### 高级技巧
- **批量上传**：支持一次选择多张图片
- **随机排列**：使用随机按钮快速调整图片顺序
- **预设尺寸**：快速选择常用的画布比例
- **高清导出**：选择 2x 模式获得更好的打印质量

## 🏗️ 项目结构

```
src/
├── components/           # Vue 组件
│   ├── ImageUploader.vue    # 图片上传组件
│   ├── LayoutSelector.vue   # 布局选择器
│   ├── CanvasSettings.vue   # 画布设置
│   ├── StitchSettings.vue   # 拼接设置
│   ├── AnnotationTools.vue  # 标注工具
│   ├── ExportSettings.vue   # 导出设置
│   └── CanvasEditor.vue     # 画布编辑器
├── stores/              # Pinia 状态管理
│   └── imageStore.ts        # 图片和设置状态
├── utils/               # 工具函数
│   └── layouts.ts           # 布局模板定义
├── App.vue              # 根组件
├── main.ts              # 入口文件
└── style.css            # 全局样式
```

## 🎨 界面设计

### 布局结构
- **顶部标题区**：展示工具名称和描述
- **左侧控制面板**：包含所有功能设置
- **右侧画布区域**：实时预览和编辑区域
- **底部信息栏**：显示画布和图片信息

### 响应式设计
- **桌面端**：左右分栏布局，最佳操作体验
- **移动端**：上下布局，触摸优化
- **平板端**：自适应布局，支持横竖屏切换

## 🔧 自定义配置

### 添加新的布局模板
在 `src/utils/layouts.ts` 中添加新的布局：

```typescript
{
  id: 'custom-layout',
  name: '自定义布局',
  imageCount: 4,
  cells: [
    { x: 0, y: 0, width: 0.5, height: 0.5 },
    { x: 0.5, y: 0, width: 0.5, height: 0.5 },
    { x: 0, y: 0.5, width: 0.5, height: 0.5 },
    { x: 0.5, y: 0.5, width: 0.5, height: 0.5 }
  ]
}
```

### 扩展标注工具
在 `src/components/AnnotationTools.vue` 中添加新的工具类型和设置。

## 📱 浏览器兼容性

- Chrome 88+
- Firefox 85+
- Safari 14+
- Edge 88+

## 🤝 贡献指南

1. Fork 本项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 创建 Pull Request

## 📋 开发计划

- [ ] 添加更多布局模板
- [ ] 支持图片滤镜效果
- [ ] 添加动画导出功能
- [ ] 支持批量处理模式
- [ ] 添加云端同步功能
- [ ] 支持插件系统

## 🐛 问题反馈

如果您在使用过程中遇到任何问题，请在 [Issues](https://github.com/your-username/imgtools/issues) 中提交。

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

- 感谢 [img.ops-coffee.cn](https://img.ops-coffee.cn/) 提供的设计灵感
- 感谢 Vue.js 团队提供的优秀框架
- 感谢所有开源库的贡献者

---

**注意**：本项目仅用于学习和个人使用，不用于商业用途。如果您喜欢这个项目，请给个 ⭐ 星标支持！
